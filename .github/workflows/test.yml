name: wow

on:
  push:
    branches: [main, test-action]
permissions: write-all
jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
          contents: write
          pull-requests: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          repository: Yanqiao4396/BranchWrite
          ref: test-action
      
      - name: echo
        run: echo "hello"
      
      - name: ls
        run: ls -a
      - name: Run custom action
        uses: ./.github/actions
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          branch: insight
          destination-path: cool/insight.json
          source: content
          content: hello from action
            
